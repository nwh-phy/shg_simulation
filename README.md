# SHG Simulation Project

这个项目旨在模拟和可视化各种晶体点群中的非线性极化。它提供了一个交互式界面，使用户能够操作模拟参数并实时可视化结果。

## 项目结构

- **src/**: 包含主要应用程序代码。
  - **main.py**: 应用程序入口点，负责初始化用户界面并启动交互式过程。
  - **point_groups.py**: 定义与点群及其非零分量相关的数据结构和函数，提供对点群信息的访问。
  - **tensor_utils.py**: 包含用于创建和操作张量的实用函数，如从字符串分量创建张量和坐标变换。
  - **visualization.py**: 负责绘制极化强度极图和其他可视化功能。
  - **ui/**: 包含用户界面组件。
    - **__init__.py**: 初始化用户界面模块。
    - **interactive_panel.py**: 定义交互式面板，允许用户使用可拖动按钮调整非线性极化张量的大小。
    - **plot_widgets.py**: 包含用于在用户界面中显示极化强度极图的绘图小部件定义。

- **data/**: 包含数据文件。
  - **point_group_data.json**: 存储有关点群的相关数据，便于扩展和维护。该文件包含所有32个晶体点群的非零张量元素和它们之间的关系。

- **examples/**: 提供演示项目使用的示例脚本。
  - **basic_simulation.py**: 一个基本模拟示例，展示如何使用项目的功能。
  - **advanced_features.py**: 演示项目的高级功能和使用示例。

- **tests/**: 包含项目的单元测试。
  - **__init__.py**: 初始化测试模块。
  - **test_tensor_utils.py**: 包含张量实用函数的单元测试。
  - **test_visualization.py**: 包含可视化功能的单元测试。

- **requirements.txt**: 列出项目所需的依赖项，便于安装。

## 功能特点

- 支持所有32个晶体点群的非线性极化模拟
- 根据点群对称性自动应用张量元素之间的关系约束
- 提供交互式界面，可实时调整参数并查看结果
- 可视化非线性极化强度的极图
- 支持张量分量的独立调整
- 提供方位角（φ）的实时调整

## 使用方法

1. 克隆仓库。
2. 使用以下命令安装所需依赖项：
   ```
   pip install -r requirements.txt
   ```
3. 运行主应用程序：
   ```
   python src/main.py
   ```
4. 按照屏幕上的说明选择晶体点群并调整参数。

## 点群张量关系处理

本项目实现了对晶体点群非线性极化张量元素之间关系的处理。例如，在某些点群中，特定的张量元素之间存在相等或相反的关系。这些关系在 `point_group_data.json` 文件中定义，并由 `point_groups.py` 中的 `apply_relations` 函数处理。

例如，对于点群 "4 = C₄ (tetragonal)"，存在以下关系：
- xyz = -yxz
- xzy = -yzx
- xzx = yzy
- xxz = yyz
- zxx = zyy
- zxy = -zyx

这些关系确保了生成的张量符合相应点群的对称性要求。

## 未来工作

- 扩展可用点群列表及其对应的非零分量。
- 增强用户界面以提高可用性和添加其他功能。
- 实现更高级的模拟功能和可视化。
- 添加更多的晶体物理参数调整选项。

## 致谢

本项目是为教育目的而开发的，旨在提供对非线性光学和晶体对称性的见解。